<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link href="form.css" rel="stylesheet" type="text/css" />
    <title>Persist</title>
    <link rel="icon" type="x-icon" href="icon.png" />
    <link rel="shortcut icon" type="x-icon" href="icon.png" />
    <meta charset="utf-8" />
    <script>
      version = "Test Edition #1"; //Remember to update this before making changes to the test itself!
    </script>
    <script>
      function showErrors() {
        const el = document.querySelector("[name='demographic']");
        el.classList.add("show-errors");
        setTimeout(() => {
          el.classList.remove("show-errors");
        }, 2000);
      }
      function validate(button) {
        const form = button.closest("form");
        const rows = form.querySelectorAll(".form-row");
        let errors = 0;

        rows.forEach((row) => {
          const inputs = Array.from(row.querySelectorAll("input"));
          const count = inputs.filter((el) => el.checked);
          errors += count.length ? 0 : 1;
        });

        if (errors) showErrors();
        return errors ? false : true;
      }
    </script>

  </head>

  <body>
    <h1 onclick="location.href='/'">On sóc políticament?</h1>
    <h2>Demographic</h2>

    <p class="center"><strong>
    Explain to the user why it is important to know this information.
    </strong>
    </p>
    <p>
      Adipisicing perspiciatis laboriosam labore eveniet in. Unde labore
      reiciendis architecto veritatis inventore ipsa? Tempore corrupti excepturi
      saepe similique repellendus in Atque eum quidem eveniet exercitationem
      atque iste! Possimus dignissimos in
    </p>

    <form action="/quiz.html" name="demographic" method="GET" >
      <div class="form-row">
        <strong>Your Province:</strong>
        <span>
        <label>Barcelona <input type="radio" name="province" value="Barcelona" /></label>
        <label>Girona <input type="radio" name="province" value="Girona" /></label>
        <label>Lleida <input type="radio" name="province" value="Lleida" /></label>
        <label>Tarragona <input type="radio" name="province" value="Tarragona" /></label>
        </span>
      </div>

      <div class="form-row">
        <strong>Your Age Group:</strong>
        <span>
        <label>Under 19 <input type="radio" name="age" value="<19" /></label>
        <label>20s <input type="radio" name="age" value="20-29" /></label>
        <label>30s <input type="radio" name="age" value="30-39" /></label>
        <label>40s <input type="radio" name="age" value="40-49" /></label>
        <label>50s <input type="radio" name="age" value="50-59" /></label>
        <label>60s <input type="radio" name="age" value="60-69" /></label>
        <label>70+ <input type="radio" name="age" value="70+" /></label>
        </span>
      </div>

      <div class="form-row">
        <strong>Your Gender:</strong>
        <span>
        <label>Male <input type="radio" name="gender" value="male" /></label>
        <label>Female <input type="radio" name="gender" value="female" /></label>
        <label>Other <input type="radio" name="gender" value="other" /></label>
        </span>
      </div>

      <div class="form-row">
        <strong>Self Assesment:</strong>
        <span>
        Left
        <label><input type="radio" name="assesment" value="-15" /></label>
        <label><input type="radio" name="assesment" value="-10" /></label>
        <label><input type="radio" name="assesment" value="-5" /></label>
        <label><input type="radio" name="assesment" value="0" /></label>
        <label><input type="radio" name="assesment" value="5" /></label>
        <label><input type="radio" name="assesment" value="10" /></label>
        <label><input type="radio" name="assesment" value="15" /></label>
        Right
        </span>
      </div>

      <button
        class="button start"
        type="submit"
        onclick="return validate(this)"
      >
        Begin the quiz
      </button>

          <div class="error-message">
              The form is incomplete please try again.
          </div>
    </form>
  </body>
</html>
